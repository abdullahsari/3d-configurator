import Config from './Configurator';
import Panel from './panel/Panel';

{
    'use strict';

    window.addEventListener('load', () => {

        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // COMPATIBILITY CHECK /////////////////////////////////////////////////////////////////////////////////////////
        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////

        if (!BABYLON.Engine.isSupported()) {
            document.querySelector('#preload p').innerHTML = ':( Your browser does not support WebGL. Please consider upgrading to a more recent version.';
            return;
        }

        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // LOADER //////////////////////////////////////////////////////////////////////////////////////////////////////
        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////

        const loader = document.getElementById('preload');
        loader.style.opacity = 0;
        setTimeout(() => {document.body.removeChild(loader);}, 1000);

        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // PANEL ///////////////////////////////////////////////////////////////////////////////////////////////////////
        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////

        const panel = new Panel();

        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // RENDER //////////////////////////////////////////////////////////////////////////////////////////////////////
        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////

        Config.render();
    });
}